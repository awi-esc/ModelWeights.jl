<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ModelWeights.jl</title><meta name="title" content="Home · ModelWeights.jl"/><meta property="og:title" content="Home · ModelWeights.jl"/><meta property="twitter:title" content="Home · ModelWeights.jl"/><meta name="description" content="Documentation for ModelWeights.jl."/><meta property="og:description" content="Documentation for ModelWeights.jl."/><meta property="twitter:description" content="Documentation for ModelWeights.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="ModelWeights.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>ModelWeights.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Data-Representation"><span>Data Representation</span></a></li><li><a class="tocitem" href="#Weights"><span>Weights</span></a></li><li><a class="tocitem" href="#Application-of-weights"><span>Application of weights</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="requirements/">Requirements</a></li><li><a class="tocitem" href="getting-started/">Getting started</a></li><li><a class="tocitem" href="weights/">Computing weights</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/climwip/">Climwip example from Brunner et al. (2020)</a></li><li><a class="tocitem" href="examples/lgm/">Weights for models of lgm experiment</a></li></ul></li><li><a class="tocitem" href="references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/awi-esc/ModelWeights.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/awi-esc/ModelWeights.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h1><ul><li><a href="examples/climwip/#Climwip-example-from-Brunner-et-al.-(2020)">Climwip example from Brunner et al. (2020)</a></li><li><a href="examples/lgm/#Weights-for-models-of-lgm-experiment">Weights for models of lgm experiment</a></li><li><a href="examples/lgm/#Load-model-data-for-experiment-lgm-and-historical-in-one-run-from-new-config-file">Load model data for experiment lgm and historical in one run from new config file</a></li><li><a href="examples/lgm/#TODO:-show-that-we-get-the-same-outfit-different-approaches!">TODO: show that we get the same outfit different approaches!</a></li><li><a href="filtering-data/#Filtering-data">Filtering data</a></li><li class="no-marker"><ul><li><a href="filtering-data/#General-options">General options</a></li><li><a href="filtering-data/#Additional-options-for-data-preprocessed-with-ESMValTool">Additional options for data preprocessed with ESMValTool</a></li></ul></li><li><a href="getting-started/#Getting-started">Getting started</a></li><li class="no-marker"><ul><li><a href="getting-started/#How-to-load-data">How to load data</a></li><li><a href="getting-started/#How-to-compute-weights">How to compute weights</a></li></ul></li><li><a href="#Usage">Usage</a></li><li class="no-marker"><ul><li><a href="#Data-Representation">Data Representation</a></li><li><a href="#Weights">Weights</a></li><li><a href="#Application-of-weights">Application of weights</a></li><li><a href="#Functions">Functions</a></li><li><a href="#Index">Index</a></li></ul></li><li><a href="loading-data/#Loading-data">Loading data</a></li><li class="no-marker"><ul><li><a href="loading-data/#Loading-data-from-directories">Loading data from directories</a></li><li><a href="loading-data/#Loading-data-preprocessed-with-ESMValTool">Loading data preprocessed with ESMValTool</a></li></ul></li><li><a href="references/#References">References</a></li><li><a href="requirements/#Requirements">Requirements</a></li><li><a href="weights/#Computing-weights">Computing weights</a></li><li class="no-marker"><ul><li><a href="weights/#Area-weighted-RMSE">Area-weighted RMSE</a></li><li><a href="weights/#Generalized-distances">Generalized distances</a></li><li><a href="weights/#Computation-of-overall-weight-for-model-i">Computation of overall weight for model <span>$i$</span></a></li><li><a href="weights/#Computation-of-performance/independence-weights-only">Computation of performance/independence weights only</a></li></ul></li></ul><p>The purpose of this package is twofold: on the one hand, we built it to handle preprocessed Earth System data easily within Julia and, on the other hand, to compute weights for different sets of Earth System Models following the approach from Brunner et al (2020) and  adding the possibility to use and combine different performance metrics.</p><h2 id="Data-Representation"><a class="docs-heading-anchor" href="#Data-Representation">Data Representation</a><a id="Data-Representation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Representation" title="Permalink"></a></h2><p>The basic representation of data is in form of a dictionary that simply maps from ids  (Strings) to the data itself stored as YAXArrays. We name this type alias a <code>DataMap</code>. </p><p>The metadata of each dataset (<span>$datamap[id].properties$</span>) contains the  metadata loaded from the original files as well as additional information if it is provided in the optional argument <code>meta_data</code>.</p><h2 id="Weights"><a class="docs-heading-anchor" href="#Weights">Weights</a><a id="Weights-1"></a><a class="docs-heading-anchor-permalink" href="#Weights" title="Permalink"></a></h2><p>&lt;!– <span>$julia import ModelWeights as mw weights = mw.computeWeights(model_data_historical, obs_data, config_weights);$</span></p><p>The <code>Weights</code> object has several fields that each store a DimensionalData.DimArray. Some of them refer to normalized weights, others refer  to the distances on the basis of which the weights were computed.</p><ul><li><code>performance_distances</code> and <code>independence_distances</code> contain the distances</li></ul><p>between models and data (performance) or between models and models (independence)  for every combination of variable and diagnostic/statistic.</p><ul><li><code>Di</code> and <code>Sij</code> are the generalized distances, i.e. weighted average of all</li></ul><p>distances across variables and diagnostic. So, <span>$D_i$</span> is a vector with size  1xn where n is the number of models (not on level of members!) and <span>$S_{ij}$</span> is  a matrix of size n x n. </p><ul><li><code>wP</code> and <code>wI</code> respectively store the normalized performance/independence weights, </li></ul><p>both have size 1xn (n: number of models).</p><ul><li><code>w</code> is the overall weight vector of length n. –&gt;</li></ul><h2 id="Application-of-weights"><a class="docs-heading-anchor" href="#Application-of-weights">Application of weights</a><a id="Application-of-weights-1"></a><a class="docs-heading-anchor-permalink" href="#Application-of-weights" title="Permalink"></a></h2><p>Add example of how weights are applied to data</p><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.addDiagnostic!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Function, String, String, Vararg{Any}}" href="#ModelWeights.Data.addDiagnostic!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Function, String, String, Vararg{Any}}"><code>ModelWeights.Data.addDiagnostic!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addDiagnostic!(datamap::DataMap, fn::Function, args...; kwargs..., id_suffix::String=&quot;&quot;)</code></pre><p>Compute a diagnostic by running <code>fn</code> with positional arguments <code>args</code> and keyword arguments  <code>kwargs</code> and add result to <code>datamap</code> at the id of the computed result concatenated with  <code>#id_suffix</code> if <code>id_suffix</code> is not empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/datamap.jl#L34-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.addDiagnostic!-Tuple{ModelWeights.Data.ClimateData, Function, Vector{String}, String, Vararg{Any}}" href="#ModelWeights.Data.addDiagnostic!-Tuple{ModelWeights.Data.ClimateData, Function, Vector{String}, String, Vararg{Any}}"><code>ModelWeights.Data.addDiagnostic!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addDiagnostic!(
    data::ClimateData, fn::Function, ids::Vector{String}, key_suffix::String, args...; kwargs...
)</code></pre><p>Run <code>addDiagnostic!</code> for model and observational data in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/datamap.jl#L69-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.alignPhysics-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}, Union{String, Symbol}}" href="#ModelWeights.Data.alignPhysics-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}, Union{String, Symbol}}"><code>ModelWeights.Data.alignPhysics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">alignPhysics(
    datamap::DataMap, members::Vector{String}; level_shared::Union{Level, Nothing}=nothing
)</code></pre><p>Return new DataMap with only the models retained that share the same physics as  the respective model&#39;s members in <code>members</code>.</p><p>If <code>level_shared</code> is set, resulting DataMap is subset accordingly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.anomalies-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.anomalies-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.anomalies</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">anomalies(orig_data::YAXArray, ref_data::YAXArray; stats_name::String=&quot;ANOM&quot;)</code></pre><p>Compute difference of <code>orig_data</code> and <code>ref_data</code>.  </p><p>The id of the original data and of the reference data is added to the metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/diagnostics.jl#L35-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.approxAreaWeights-Tuple{Vector{&lt;:Number}}" href="#ModelWeights.Data.approxAreaWeights-Tuple{Vector{&lt;:Number}}"><code>ModelWeights.Data.approxAreaWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">approxAreaWeights(latitudes::Vector{&lt;:Number})</code></pre><p>Create a YAXArray with the cosine of <code>latitudes</code> which approximates the cell  area on the respective latitude.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L214-L219">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.areaWeightedRMSE-Tuple{AbstractArray, AbstractArray, AbstractArray}" href="#ModelWeights.Data.areaWeightedRMSE-Tuple{AbstractArray, AbstractArray, AbstractArray}"><code>ModelWeights.Data.areaWeightedRMSE</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">areaWeightedRMSE(m1::AbstractArray, m2::AbstractArray, mask::AbstractArray)</code></pre><p>Compute the area weighted (approximated by cosine of latitudes in radians) root mean squared  error between <code>m1</code> and <code>m2</code>. </p><p><strong>Arguments:</strong></p><ul><li><code>m1</code>: must have dimensions &#39;lon&#39;, &#39;lat&#39;.</li><li><code>m2</code>: must have dimensions &#39;lon&#39;, &#39;lat&#39;.</li><li><code>mask</code>: has values 0,1. Locations where mask is 1 get a weight of 0.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1085-L1095">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.checkConstraint-Tuple{Union{Nothing, Dict}}" href="#ModelWeights.Data.checkConstraint-Tuple{Union{Nothing, Dict}}"><code>ModelWeights.Data.checkConstraint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">checkConstraint(constraint::Union{Dict, Nothing})</code></pre><p>Throw error if entries (except for level_shared) do not map to a vector of Strings.</p><p>Used to provide specific error messages of values that were not specified correctly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L252-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.combineAll-Tuple{Vararg{Vector{String}}}" href="#ModelWeights.Data.combineAll-Tuple{Vararg{Vector{String}}}"><code>ModelWeights.Data.combineAll</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">combineAll(v::Vararg{Vector{String}}; sep::String=&quot;_&quot;)</code></pre><p>Generate vector with all possible combinations of strings, each of which is a concatenation  of elements from each input vector in the given order, concatenated by <code>sep</code> (default: _).</p><p><strong>Arguments</strong></p><ul><li><code>v::Vararg{Vector{String}}</code>: A variable number of input vectors.</li><li><code>sep::String</code>: seperator</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ModelWeights.Data.combineAll([&quot;tos&quot;, &quot;tas&quot;], [&quot;CLIM&quot;])
2-element Vector{String}:
 &quot;tos_CLIM&quot;
 &quot;tas_CLIM&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L72-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.combineModelsFromMultipleFiles-Union{Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}, Tuple{T}} where T" href="#ModelWeights.Data.combineModelsFromMultipleFiles-Union{Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}, Tuple{T}} where T"><code>ModelWeights.Data.combineModelsFromMultipleFiles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">combineModelsFromMultipleFiles(
    data::Vector{&lt;:YAXArray}; 
    names::Vector{String} = Vector{String}(),
    meta::Union{Dict{String, T}, Nothing} = nothing,
    dtype::String = &quot;undef&quot;,
    new_dim::Symbol = :model,
    sorted::Bool = true</code></pre><p>) where T &lt;: Any</p><p>Combine <code>data</code> from different files into a single YAXArray.  The meta data of the returned YAXArray is a combination of all values from all datasets  using vectors with missing values for datasets that didn&#39;t have the respective metadata  entry in their metadata, further combined with the properties in <code>meta</code> if provided.</p><p>All elements in <code>data</code> must share all dimensions except for time (if present). For timeseries data, the time dimension may cover different ranges. In that case the  maximal timeseries is used and filled with NaN for missing values.  </p><p>The combined YAXArray has the additional dimension <code>new_dim</code> (default: :model) with <code>names</code> as values. If <code>names</code> is not provided, default values &#39;model1&#39;, &#39;model2, etc. are used  instead.</p><p>If <code>sorted</code> is true, model dimension of returned data is sorted alphabetically and the  vector entries in the metadata dictionary of the returned array are also sorted accordingly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L21-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.constrainMetaData!-Tuple{Vector{ModelWeights.Data.MetaData}, Dict}" href="#ModelWeights.Data.constrainMetaData!-Tuple{Vector{ModelWeights.Data.MetaData}, Dict}"><code>ModelWeights.Data.constrainMetaData!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constrainMetaData!(meta_attributes::Vector{MetaData}, constraint::Dict)</code></pre><p>Subset entries in <code>meta_attributes</code> so that only those with properties specified  in <code>constraint</code> remain.</p><p><strong>Arguments</strong></p><ul><li><code>constraint::Dict</code>: Mapping to vector specifiying the properties of which at least one </li></ul><p>must be present for an id to be retained.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L813-L822">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, String}} where T" href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, String}} where T"><code>ModelWeights.Data.defineDataMap</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">defineDataMap(
    path_data_dir::String, 
    id::String;
    meta_data::Dict{String, T} = Dict{String, Any}(),
    constraint::Union{Dict, Nothing} = nothing,
    sorted::Bool = true, 
    dtype::String = &quot;undef&quot;,
    filename_format::Union{Symbol, String} = :cmip
) where T &lt;: Any</code></pre><p>Return DataMap with entry <code>id</code> with the data (model and/or obs depending on <code>dtype</code>) from  all .nc files in <code>paths</code> and all .nc files in all directories in <code>paths</code>, possibly  constraint by <code>constraint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L597-L611">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, Vector{String}}} where T" href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, Vector{String}}} where T"><code>ModelWeights.Data.defineDataMap</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">defineDataMap(
    paths_data_dirs::Vector{String}, 
    data_ids::Vector{String};
    meta_data::Vector{Dict{String, T}} = Vector{Dict{String, Any}}(),
    constraint::Union{Dict, Nothing} = nothing,
    sorted::Bool = true, 
    dtype::String = &quot;undef&quot;,
    filename_format::Union{Symbol, String} = :cmip
) where T &lt;: Any</code></pre><p>Return DataMap with entries <code>data_ids</code> with the data (model and/or obs depending on <code>dtype</code>)  from all .nc files in all directories in <code>paths_dirs</code>, possibly constraint by <code>constraint</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L638-L651">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T" href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T"><code>ModelWeights.Data.defineDataMap</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">defineDataMap(
    paths_data_dirs::Vector{String}, 
    data_ids::Vector{String};
    meta_data::Vector{Dict{String, T}} = Vector{Dict{String, Any}}(),
    constraint::Union{Dict, Nothing} = nothing,
    sorted::Bool = true, 
    dtype::String = &quot;undef&quot;,
    filename_format::Union{Symbol, String} = :cmip
) where T &lt;: Any</code></pre><p>Return DataMap with entries <code>data_ids</code> with the data (model and/or obs depending on <code>dtype</code>)  from all .nc files in all directories in <code>paths_dirs</code>, possibly constraint by <code>constraint</code>.</p><p>For every loaded dataset (entry in built DataMap), files are loaded from several directories; each entry in <code>paths_data_dirs</code> points the the vector of data directories from where data  is loaded for that dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L681-L698">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.distancesData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}}" href="#ModelWeights.Data.distancesData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}}"><code>ModelWeights.Data.distancesData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">distancesData(model_data::DataMap, obs_data::DataMap, diagnostics_ids::Vector{String})</code></pre><p>Compute RMSEs between models and observations for <code>diagnostics</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>diagnostics_ids::Vector{String}</code>:</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L875-L882">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.distancesData-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.distancesData-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.distancesData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">distancesData(models::YAXArray, observations::YAXArray)</code></pre><p>Compute the distance as the area-weighted RMSE between model predictions and observations.</p><p>If several observational datasets are present, the average across all is taken.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L894-L900">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.distancesModels-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.distancesModels-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.distancesModels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">distancesModels(modelData::YAXArray)</code></pre><p>Compute the area weighted RMSE between model predictions for each pair of models.</p><p><strong>Arguments:</strong></p><ul><li><code>modelData::YAXArray</code>: must have dimensions &#39;lon&#39;, &#39;lat&#39;, &#39;model&#39; or &#39;member&#39;.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L939-L946">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{String}, Vector{String}, Union{String, Symbol}}" href="#ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{String}, Vector{String}, Union{String, Symbol}}"><code>ModelWeights.Data.filterPathsSharedModels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filterPathsSharedModels(
    paths::Vector{String}, 
    shared_models::Vector{String}, 
    fn_format::Union{Symbol, String}
)</code></pre><p>Every vector of paths in <code>all_paths</code> is filtered s.t. it only contains models or model  members given in <code>shared_models</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>paths</code>: contains paths to data files</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L155-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}" href="#ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}"><code>ModelWeights.Data.filterPathsSharedModels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filterPathsSharedModels(
    all_paths::Vector{Vector{String}}, 
    level_shared::Level, 
    fn_format::Union{Symbol, String}
)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>all_paths</code>: every entry refers to the paths to data files for the respective dataset</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L180-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.generalizedDistances-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.generalizedDistances-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.generalizedDistances</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generalizedDistances(distances_all::YAXArray, weights::DimArray)</code></pre><p>For every variable in <code>distances_all</code>, compute the weighted sum of all diagnostics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L974-L978">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.getAtModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String}" href="#ModelWeights.Data.getAtModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String}"><code>ModelWeights.Data.getAtModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getAtModel(data::YAXArray, dimension::Symbol, model::String)</code></pre><p>Return <code>data</code> where <code>dimension</code> (member or model) has value <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.getByIdxModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, Vector}" href="#ModelWeights.Data.getByIdxModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, Vector}"><code>ModelWeights.Data.getByIdxModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getByIdxModel(data::YAXArray, dimension::Symbol, indices::Vector)</code></pre><p>Return <code>data</code> where <code>dimension</code> (member or model) has value <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.getCMIPModelsKey-Tuple{Dict}" href="#ModelWeights.Data.getCMIPModelsKey-Tuple{Dict}"><code>ModelWeights.Data.getCMIPModelsKey</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getCMIPModelsKey(meta::Dict)</code></pre><p>Return the respective key to retrieve model names in CMIP6 (&#39;source<em>id&#39;) and  CMIP5 (&#39;model</em>id&#39;) data.</p><p>If both keys are present, &#39;source_id&#39; used in CMIP6 models is returned, if none  is present, throw ArgumentError.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L129-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.globalMeans-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.globalMeans-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.globalMeans</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">globalMeans(data::YAXArray)</code></pre><p>Return a YAXArray with area-weighted global means for each model in <code>data</code>. </p><p>Missing data is accounted for in the area-weights. </p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: must have dimensions &#39;lon&#39; and &#39;lat&#39;.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/diagnostics.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.individuatePath-Tuple{String}" href="#ModelWeights.Data.individuatePath-Tuple{String}"><code>ModelWeights.Data.individuatePath</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">individuatePath(target::String)</code></pre><p>If file at <code>target</code> path exists, concatenate <code>target</code> with current timestep, otherwise  simply return <code>target</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L118-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.interpolatedWeightedQuantiles-Tuple{Vector{&lt;:Number}, Vector}" href="#ModelWeights.Data.interpolatedWeightedQuantiles-Tuple{Vector{&lt;:Number}, Vector}"><code>ModelWeights.Data.interpolatedWeightedQuantiles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interpolatedWeightedQuantiles(
    quantiles::Vector{&lt;:Number}, vals::Vector; weights=nothing
)</code></pre><p>This implementation follows the one used by Brunner et al.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1200-L1206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.joinDicts-Tuple{Vararg{Dict}}" href="#ModelWeights.Data.joinDicts-Tuple{Vararg{Dict}}"><code>ModelWeights.Data.joinDicts</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joinDicts(v::Dict...; warn_msg::String=&quot;&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L299-L301">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.kelvinToCelsius!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.kelvinToCelsius!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.kelvinToCelsius!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">kelvinToCelsius!(datamap::DataMap)</code></pre><p>Modify entries of <code>datamap</code> s.t. all data is given in Degree Celsius (instead) of Kelvin.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L165-L169">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.kelvinToCelsius-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.kelvinToCelsius-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.kelvinToCelsius</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">kelvinToCelsius(data::AbstractArray)</code></pre><p>Return a copy of <code>data</code> with values given in Kelvin covnerted into Degree Celsius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L138-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.loadDataFromESMValToolRecipes-Tuple{String, String}" href="#ModelWeights.Data.loadDataFromESMValToolRecipes-Tuple{String, String}"><code>ModelWeights.Data.loadDataFromESMValToolRecipes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadDataFromESMValToolRecipes(
    path_data::String,
    path_recipes::String;
    dir_per_var::Bool = true,
    constraint::Union{Dict, Nothing} = nothing,
    preview::Bool = false,
    sorted::Bool = true
)</code></pre><p>Load the data from the ESMValTool recipes at <code>path_recipes</code> or, if <code>preview</code> is true, load meta data only.</p><p><strong>Arguments:</strong></p><ul><li><code>path_data</code>: top level directory were data is stored.</li><li><code>path_recipes</code>: directory were ESMValTool recipes are stored; these must be the versions </li></ul><p>in the run folder generated by ESMValTool named  RECIPENAME_filled.yml.</p><ul><li><code>dir_per_var</code>: set to true (default) if there is a subdirectory in <code>path_data</code> for every </li></ul><p>climate variable to be loaded.</p><ul><li><code>constraint</code>: TODO!</li><li><code>preview</code>: set to true if only meta data should be loaded (default: false).</li><li><code>sorted</code>: if true (default), the data is sorted alphabetically wrt model names.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L429-L451">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.loadDataFromYAML-Tuple{Dict}" href="#ModelWeights.Data.loadDataFromYAML-Tuple{Dict}"><code>ModelWeights.Data.loadDataFromYAML</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadDataFromYAML(
    content::Dict;
    constraint::Union{Dict, Nothing} = nothing,
    preview::Bool = false,
    sorted::Bool = true,
    dtype::String = &quot;undef&quot;
)</code></pre><p>Load a <code>ClimateData</code>-instance that contains the data specified in <code>content</code>, potentially  constraint by values in <code>constraint</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>preview::Bool</code>: if true (default: false), return metadata and corresponding paths without </li></ul><p>actually loading any data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L481-L496">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.loadDataMapCore-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T" href="#ModelWeights.Data.loadDataMapCore-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T"><code>ModelWeights.Data.loadDataMapCore</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadDataMapCore(
    all_paths::Vector{Vector{String}},
    ids::Vector{String};
    constraint::Union{Dict, Nothing} = nothing,
    dtype::String = &quot;undef&quot;,
    filename_format::Union{Symbol, String} = :cmip,
    sorted::Bool = true,
    preview::Bool = false,
    meta_data::Union{Vector{Dict{String, T}}, Nothing} = nothing
) where T &lt;: Any</code></pre><p>Load a DataMap instance with keys <code>ids</code> that map to data at <code>all_paths</code>, where every  subvector refers the the paths of the data of a single dataset. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L369-L384">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.loadModelsFromCSV-Tuple{String, String}" href="#ModelWeights.Data.loadModelsFromCSV-Tuple{String, String}"><code>ModelWeights.Data.loadModelsFromCSV</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadModelsFromCSV(
    path::String, col_models::String; col_variants::Union{String,Nothing}=nothing
)</code></pre><p>Return a vector with models retrieved from csv file at <code>path</code>. If col_variants is provided,  returned models are on level of model members (MODEL#variant, e.g. AWI-ESM#r1i1p1f1).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1060-L1067">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.loadPreprocData-Union{Tuple{T}, Tuple{Vector{String}, Union{String, Symbol}}} where T" href="#ModelWeights.Data.loadPreprocData-Union{Tuple{T}, Tuple{Vector{String}, Union{String, Symbol}}} where T"><code>ModelWeights.Data.loadPreprocData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadPreprocData(
    paths::Vector{String},
    filename_format::Union{Symbol, String};
    sorted::Bool = true, 
    dtype::String = &quot;undef&quot;,
    names::Vector{String} = Vector{String}(),
    meta_info::Union{Dict{String, T}, Nothing} = nothing
) where T &lt;: Any</code></pre><p>Return data loaded from <code>paths</code> as single YAXArray. </p><p>Each path points to a different model, i.e. the data for one dataset is loaded from multiple  files and all datasets in <code>paths</code> must share the same dimensions. Which variable is loaded  is inferred from the filenames (from <code>paths</code>), or if <code>meta_info</code> has key &#39;variable&#39;, the  respective value is used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L277-L293">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.memberIDFromFilenameMeta-Tuple{ModelWeights.Data.FilenameMeta, String}" href="#ModelWeights.Data.memberIDFromFilenameMeta-Tuple{ModelWeights.Data.FilenameMeta, String}"><code>ModelWeights.Data.memberIDFromFilenameMeta</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">memberIDFromFilenameMeta(fn_meta::FilenameMeta)</code></pre><p>Return a string of the form modelname#memberID[_grid] that identifies the corresponding model member.</p><p>For CMIP6 models the abbreviation of the grid is added to the model name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L113-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.memberIDsFromPaths-Tuple{Vector{String}}" href="#ModelWeights.Data.memberIDsFromPaths-Tuple{Vector{String}}"><code>ModelWeights.Data.memberIDsFromPaths</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">memberIDsFromPaths(all_paths::Vector{String})</code></pre><p>For every path in <code>all_paths</code> return a string of the form modelname#memberID[<em>grid] that identifies the corresponding model member. Filenames must follow the CMIP-standard (proj</em>name<em>mip</em>exp<em>id</em>variable[_grid].nc).</p><p>For CMIP6 models the abbreviation of the grid is added to the model name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L89-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.mergeMetaDataFromMultipleFiles-Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.mergeMetaDataFromMultipleFiles-Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.mergeMetaDataFromMultipleFiles</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mergeMetaDataFromMultipleFiles(data::Vector{&lt;:YAXArray})</code></pre><p>Combine arrays in <code>data</code> into a single YAXArray with meta combined from all datasets into  lists, with missing if key wasnt in a dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.metaDataChecksCMIP-Tuple{CommonDataModel.Attributes, String}" href="#ModelWeights.Data.metaDataChecksCMIP-Tuple{CommonDataModel.Attributes, String}"><code>ModelWeights.Data.metaDataChecksCMIP</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metaDataChecksCMIP(meta::Dict, path::String)</code></pre><p>Check model names as retrieved from the metadata for potential inconsistencies wrt filename.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1232-L1236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.metaDataFromESMValToolRecipes-Tuple{String}" href="#ModelWeights.Data.metaDataFromESMValToolRecipes-Tuple{String}"><code>ModelWeights.Data.metaDataFromESMValToolRecipes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metaDataFromESMValToolRecipes(
    base_path_configs::String; constraint::Union{Dict, Nothing} = nothing
)</code></pre><p>Read variable, statistic, experiment and timerange/alias values from ESMValTool recipes  stored at <code>base_path_configs</code> into a vector of Dictionaries storing the respective readoff  values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L492-L500">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.metaDataFromYAML-Tuple{Dict}" href="#ModelWeights.Data.metaDataFromYAML-Tuple{Dict}"><code>ModelWeights.Data.metaDataFromYAML</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metaDataFromYAML(content::Dict)</code></pre><p>Return metadata of data specified in <code>content</code> possibly constrained by values in <code>arg_constraint</code>.</p><p>For constraints that are specified in <code>content</code> as well as in the <code>arg_constraint</code> argument,  the values of the latter have precedence over the former. The constraints given in the argument <code>arg_constraint</code> are applied to EVERY dataset specified in the config  file.</p><p><strong>Arguments:</strong></p><ul><li><code>content</code>: content of config yaml file specifying meta attributes and paths of data</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L596-L608">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.modelDim-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.modelDim-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.modelDim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">modelDim(data::YAXArray)</code></pre><p>Return the model dimension of <code>data</code> which must either be :model or :member.</p><p>If none is present, throw ArgumentError.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1254-L1260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.normalize-Tuple{Dict{String, &lt;:Number}}" href="#ModelWeights.Data.normalize-Tuple{Dict{String, &lt;:Number}}"><code>ModelWeights.Data.normalize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normalize(data::Dict{String, &lt;:Number})</code></pre><p>Normalize values for every entry in <code>data</code> such that they sum up to 1. If remove_zero is true (default), the returned dictionary does not contain entries for which values were 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1109-L1114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.normalizeToYAX-Tuple{Dict{String, &lt;:Number}}" href="#ModelWeights.Data.normalizeToYAX-Tuple{Dict{String, &lt;:Number}}"><code>ModelWeights.Data.normalizeToYAX</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">normalizeToYAX(data::Dict{String, &lt;:Number})</code></pre><p>Normalize values for every entry in <code>data</code> such that they sum up to 1 and return a YAXArray  with dimension &#39;diagnostic&#39; whose lookup names are the keys of <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1126-L1131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.putAtModel!-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String, Any}" href="#ModelWeights.Data.putAtModel!-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String, Any}"><code>ModelWeights.Data.putAtModel!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">putAtModel!(data::YAXArray, dimension::Symbol, model::String, input)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L58-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.readDataFromDisk-Tuple{String}" href="#ModelWeights.Data.readDataFromDisk-Tuple{String}"><code>ModelWeights.Data.readDataFromDisk</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readDataFromDisk(target_path::String; variable::String=&quot;&quot;)</code></pre><p>Load data from <code>target_path</code>. If <code>target_path</code> ends with &#39;.jld2&#39;, <code>variable</code>  must be specified, otherwise  data is assumed to be binary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L350-L355">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.resolvePathsFromMetaData-Tuple{ModelWeights.Data.MetaData, String, Bool}" href="#ModelWeights.Data.resolvePathsFromMetaData-Tuple{ModelWeights.Data.MetaData, String, Bool}"><code>ModelWeights.Data.resolvePathsFromMetaData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">resolvePathsFromMetaData( 
    meta::MetaData,
    base_path::String,
    dir_per_var::Bool;
    constraint::Union{Dict, Nothing} = nothing
)</code></pre><p>Return paths to data files for data specified in <code>meta</code>, possibly constraint by values in  <code>constraint</code>. The paths were the data is stored is expected to follow the following  structure (corresponding to the output from ESMValTool used for preprocessing the data):</p><p><code>base_path</code> is the top-level directory. If <code>dir_per_var</code> is true, <code>base_path</code> is assumed to  have a (or several) subdirectory for each climate variable with <em>VAR as part of the  subdirectory&#39;s name (e.g. _tas, cmip5</em>tas, etc.). These subdirectories may be constraint by  containing at least one of the values in <code>constraint[&quot;base_subdirs&quot;]</code>. </p><p>Let BASE refer to <code>base_path</code>, or respectively, to the subdirectories for the climate  variables. Then the following structure is: BASE/preproc/meta.alias/meta.subdir.  In ESMValTool, <code>meta.alias</code> corresponds to the (self-chosen) name under the section  &#39;diagnostics&#39; and <code>meta.subdir</code> to the (self-chosen) name under the section &#39;variables&#39;.</p><p>The returned paths are the paths to all files within this directory, possibly constraint by  the filenames containig at least one string in <code>constraint[&quot;projects&quot;]</code> and respectively  at least one string in <code>constraint[&quot;models&quot;]</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L650-L675">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.setLookupsFromMemberToModel-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}" href="#ModelWeights.Data.setLookupsFromMemberToModel-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Data.setLookupsFromMemberToModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setLookupsFromMemberToModel(data::YAXArray, dim_names::Vector{String})</code></pre><p>Change the lookup values for the dimension &#39;member&#39; to refer to the models, i.e. they are not unique anymore. This is done in preparation to group the data by the different models.</p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: has at least dimensions in <code>dim_names</code>.</li><li><code>dim_names::Vector{String}</code>: names of dimensions to be changed, e.g. &#39;member&#39;, </li></ul><p>&#39;member1&#39; (would be changed to &#39;model&#39;, &#39;model1&#39;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L371-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.sharedLevelMembers-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.sharedLevelMembers-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.sharedLevelMembers</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sharedLevelMembers(data::DataMap)</code></pre><p>Return vector of model members that are shared across all entries in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1024-L1028">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.sharedLevelModels-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.sharedLevelModels-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.sharedLevelModels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sharedLevelModels(data::DataMap)</code></pre><p>Return vector of models (on level of models, not members) that are shared across all entries in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1038-L1042">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.sharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}" href="#ModelWeights.Data.sharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}"><code>ModelWeights.Data.sharedModels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sharedModels(
    all_paths::Vector{Vector{String}},
    level_shared::Level,
    fn_format::Union{Symbol, String}
)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>all_paths</code>: every entry refers to the paths to data files for the respective dataset</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L77-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.subsetModelData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.subsetModelData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.subsetModelData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subsetModelData(datamap::DataMap; level::Level=MEMBER_LEVEL)</code></pre><p>For those datasets in <code>datamap</code> that specify data on the level <code>level</code> (i.e. have dimension  :member or :model), return a new DataMap with subset of data s.t. the new datasets all have  the same models (MODEL<em>LEVEL) or members (MEMBER</em>LEVEL).</p><p>If no models are shared across datasets, return the input <code>datamap</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L46-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.subsetModelData-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}" href="#ModelWeights.Data.subsetModelData-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Data.subsetModelData</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subsetModelData(data::YAXArray, shared_models::Vector{String})</code></pre><p>Return subset of <code>data</code> containing only data from models in <code>shared_models</code>. </p><p>Takes care of metadata.</p><p><strong>Arguments:</strong></p><ul><li><code>data</code>: must have dimension &#39;member&#39; or &#39;model&#39;</li><li><code>shared_models</code>: models, which can either be on level of models or members of models </li></ul><p>(&#39;modelname#memberID[_grid]&#39;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMembers!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}" href="#ModelWeights.Data.summarizeMembers!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.summarizeMembers!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMembers!(data::DataMap)</code></pre><p>Set values for every dataset in <code>data</code> to the average across all members of  each model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L177-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMembers-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.summarizeMembers-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.summarizeMembers</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMembers(data::YAXArray; fn::Function=Statistics.mean)</code></pre><p>For each model compute a summary statistic (default: mean) across all its members. </p><p>The returned YAXArray has dimension &#39;model&#39;.</p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: YAXArray; must have dimension &#39;member&#39;</li><li><code>updateMeta::Bool</code>: set true if the vectors in the metadata refer to </li></ul><p>different models. Set to false if vectors refer to different variables.</p><ul><li><code>fn::Function</code>: Function to be applied on data</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L156-L169">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMembersMatrix-Tuple{YAXArrays.Cubes.YAXArray, Bool}" href="#ModelWeights.Data.summarizeMembersMatrix-Tuple{YAXArrays.Cubes.YAXArray, Bool}"><code>ModelWeights.Data.summarizeMembersMatrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMembersMatrix(data::AbstractArray, updateMeta::Bool; fn::Function=Statistics.mean)</code></pre><p>Compute the average across all members of each model for each given variable  for model to model data, e.g. distances between model pairs.</p><p><strong>Arguments:</strong></p><ul><li><code>data</code>: with at least dimensions &#39;member1&#39;, &#39;member2&#39;</li><li><code>updateMeta</code>: set true if the vectors in the metadata refer to different models. </li></ul><p>Set to false if vectors refer to different variables for instance. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L228-L238">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMembersVector-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Data.summarizeMembersVector-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.summarizeMembersVector</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMembersVector(data::YAXArray; fn::Function=Statistics.mean)</code></pre><p>For each model compute a summary statistic (default: mean) across all its members.  The returned YAXArray has dimension :model (instead of :member).</p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: YAXArray; must have dimension &#39;member&#39;</li><li><code>fn::Function</code>: Function to be applied on data</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-functions.jl#L193-L203">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMeta!-Tuple{Dict, Vector{&lt;:Int64}}" href="#ModelWeights.Data.summarizeMeta!-Tuple{Dict, Vector{&lt;:Int64}}"><code>ModelWeights.Data.summarizeMeta!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMeta(meta::Dict, models::Vector{String})</code></pre><p>If simplify is true, use single value when all remaining elements in a vector in <code>meta</code> are  identical, otherwise just keep vector.</p><p><strong>Arguments:</strong></p><ul><li><code>meta</code>:</li><li><code>indices</code>: indices to remain in vectors mapped to in <code>meta</code>. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L397-L406">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.summarizeMeta-Tuple{Dict, Vector{&lt;:Int64}}" href="#ModelWeights.Data.summarizeMeta-Tuple{Dict, Vector{&lt;:Int64}}"><code>ModelWeights.Data.summarizeMeta</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">summarizeMeta(meta::Dict, models::Vector{String})</code></pre><p>If simplify is true, use single value when all remaining elements in a vector in <code>meta</code> are  identical, otherwise just keep vector.</p><p><strong>Arguments:</strong></p><ul><li><code>meta</code>:</li><li><code>indices</code>: indices to remain in vectors mapped to in <code>meta</code>. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L424-L433">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Symbol}" href="#ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Symbol}"><code>ModelWeights.Data.throwErrorIfDimMissing</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">throwErrorIfDimMissing(data::YAXArray)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Vector{Symbol}}" href="#ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Vector{Symbol}}"><code>ModelWeights.Data.throwErrorIfDimMissing</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">throwErrorIfDimMissing(data::YAXArray, dims::Vector{Symbol})</code></pre><p>Throw ArgumentError if <code>data</code> does not have ALL dimensions in <code>dims</code> when <code>include=:all</code>  (default), or if <code>data</code> does not have ANY dimension in <code>dims</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/helper-functions.jl#L20-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.uncertaintyRanges-Tuple{AbstractArray}" href="#ModelWeights.Data.uncertaintyRanges-Tuple{AbstractArray}"><code>ModelWeights.Data.uncertaintyRanges</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">uncertaintyRanges(
    data::AbstractArray; w::Union{DimArray, Nothing}=nothing, quantiles=[0.167, 0.833]
)</code></pre><p>Compute weighted <code>quantiles</code> of timeseries <code>data</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>data::AbstractArray</code>: must have dimensions &#39;time&#39;, &#39;model&#39;.</li><li><code>w::Union{DimArray, Nothing}=nothing</code>: must have dimensions &#39;model&#39; and &#39;weight&#39;, each </li></ul><p>&#39;weight&#39;-vector must sum up to 1.</p><ul><li><code>quantiles=[0.167, 0.833]</code>: vector with two entries between 0 and 1 representing  the </li></ul><p>lower and upper bound in this order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L1144-L1157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.updateGroupedDataMetadata-Tuple{Dict, DimensionalData.DimGroupByArray}" href="#ModelWeights.Data.updateGroupedDataMetadata-Tuple{Dict, DimensionalData.DimGroupByArray}"><code>ModelWeights.Data.updateGroupedDataMetadata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">updateGroupedDataMetadata(meta::Dict, grouped_data::DimensionalData.DimGroupByArray)</code></pre><p>Summarize vectors in <code>meta</code>, refering to different models (members), such that  each vector only contains N entries (N=number of models (i.e. without unique members)).</p><p>If the metadata for members of a model differ across members, the respective entry in the vector will be a vector itself.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L451-L459">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Data.writeDataToDisk-Tuple{Any, String}" href="#ModelWeights.Data.writeDataToDisk-Tuple{Any, String}"><code>ModelWeights.Data.writeDataToDisk</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">writeDataToDisk(data, target_path::String)</code></pre><p>Save <code>data</code> as Julia obj if <code>target_path</code> has ending &#39;.jld2&#39;, otherwise save as binary. If file at <code>target_path</code> already exists, timestamp is added if <code>overwrite</code> is false (default).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/data-utils.jl#L332-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.convertKgsToSv!-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Plots.convertKgsToSv!-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.convertKgsToSv!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convertKgsToSv!(vec:YAXArray)</code></pre><p>Convert data given in unit &#39;kg s-1&#39; into Sverdrups (Sv).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.getClosestGridPoint-Tuple{Dict, Vector, Vector}" href="#ModelWeights.Plots.getClosestGridPoint-Tuple{Dict, Vector, Vector}"><code>ModelWeights.Plots.getClosestGridPoint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>getClosestGridPoint(location::Dict, longitudes::Vector, latitudes::Vector)</p><p>Find the grid point in grid defined by <code>longitudes</code> and <code>latitudes</code> that is closest to <code>location</code>.</p><p><strong>Arguments</strong></p><ul><li><code>location::Dict</code>: &#39;lon&#39;, &#39;lat&#39; of position for which closest grid point is</li></ul><p>returned, <code>lon</code> must be given from -180° to 180°</p><ul><li><code>longitudes::Vector</code>: grid longitudes measured from -180° to 180°</li><li><code>latitudes::Vector</code>: grid latitudes measured from -90° to 90°</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L109-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.latitude2NorthSouth-Tuple{Number}" href="#ModelWeights.Plots.latitude2NorthSouth-Tuple{Number}"><code>ModelWeights.Plots.latitude2NorthSouth</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>latitude2NorthSouth(lat::Number)</p><p>Convert latitudes from -90° to 90° into 0° to 90° North/South.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.lon180to360-Tuple{Number}" href="#ModelWeights.Plots.lon180to360-Tuple{Number}"><code>ModelWeights.Plots.lon180to360</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lon360to180(lon::Number)</code></pre><p>Convert longitudes measured from -180° to 180° into 0° to 360° scale.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L61-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.lon360to180-Tuple{Number}" href="#ModelWeights.Plots.lon360to180-Tuple{Number}"><code>ModelWeights.Plots.lon360to180</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lon360to180(lon::Number)</code></pre><p>Convert longitudes measured from 0° to 360° into  -180° to 180° scale.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L52-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.longitude2EastWest-Tuple{Number}" href="#ModelWeights.Plots.longitude2EastWest-Tuple{Number}"><code>ModelWeights.Plots.longitude2EastWest</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>longitude2EastWest(lon::Number)</p><p>Convert longitudes from -180° to 180° into 0° to 180° East/West.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.makeSubplots-Tuple{AbstractArray, @NamedTuple{nrows::Int64, ncols::Int64}}" href="#ModelWeights.Plots.makeSubplots-Tuple{AbstractArray, @NamedTuple{nrows::Int64, ncols::Int64}}"><code>ModelWeights.Plots.makeSubplots</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">makeSubplots</code></pre><p><strong>Arguments:</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L129-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotAMOC-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Plots.plotAMOC-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.plotAMOC</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>plotAMOC(data::DimArray)</p><p>Plot AMOC strength for variable &quot;amoc&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L126-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotDistances-Tuple{AbstractArray, String}" href="#ModelWeights.Plots.plotDistances-Tuple{AbstractArray, String}"><code>ModelWeights.Plots.plotDistances</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotDistances(dists::AbstractArray, title::String; is_bar_plot::Bool=true)</code></pre><p>Plot figure of distances for every combination of variable and diagnostic in  <code>dists</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>dists</code>: must have dimensions <code>:variable</code>, <code>:diagnostic</code></li><li><code>title</code>:</li><li><code>is_bar_plot</code>:</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-weights.jl#L58-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotDistancesIndependence-Tuple{AbstractArray, String}" href="#ModelWeights.Plots.plotDistancesIndependence-Tuple{AbstractArray, String}"><code>ModelWeights.Plots.plotDistancesIndependence</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotDistancesIndependence(distances::AbstractArray, dimname::String)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>distances</code>:</li><li><code>dimname</code>:</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-weights.jl#L111-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotEnsembleSpread-Tuple{YAXArrays.Cubes.YAXArray, Number, Number}" href="#ModelWeights.Plots.plotEnsembleSpread-Tuple{YAXArrays.Cubes.YAXArray, Number, Number}"><code>ModelWeights.Plots.plotEnsembleSpread</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotEnsembleSpread(data::AbstractArray, lon::Number, lat::Number)</code></pre><p>Create figure with boxplots for each model in <code>data</code> that have several ensemble members.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L154-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotHistAtPos-Tuple{YAXArrays.Cubes.YAXArray, Dict}" href="#ModelWeights.Plots.plotHistAtPos-Tuple{YAXArrays.Cubes.YAXArray, Dict}"><code>ModelWeights.Plots.plotHistAtPos</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>plotHistAtPos(data::AbstractArray, location::Dict)</p><p>Plot histogram of all data for a specific <code>location</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>data</code>: dimensions &#39;lon&#39; (from -180° to 180°), &#39;lat&#39; (-90° to 90°)</li><li><code>location</code>: must have keys &#39;name&#39;, &#39;lon&#39;, &#39;lat&#39;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L88-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotTempGraph-Tuple{YAXArrays.Cubes.YAXArray, NamedTuple, NamedTuple, String}" href="#ModelWeights.Plots.plotTempGraph-Tuple{YAXArrays.Cubes.YAXArray, NamedTuple, NamedTuple, String}"><code>ModelWeights.Plots.plotTempGraph</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotTempGraph

# TODO: change quantileLabels and uncertaintyRanges, the latter should contain 
# the quantile labels</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L241-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotTimeseries!-Tuple{Makie.Axis, AbstractArray}" href="#ModelWeights.Plots.plotTimeseries!-Tuple{Makie.Axis, AbstractArray}"><code>ModelWeights.Plots.plotTimeseries!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotTimeseries!(ax::Axis, vals::AbstractArray;)</code></pre><p>Plot timeseries of data vector <code>vals</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L197-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotValsOnMap!-Tuple{Makie.Figure, AbstractArray, String}" href="#ModelWeights.Plots.plotValsOnMap!-Tuple{Makie.Figure, AbstractArray, String}"><code>ModelWeights.Plots.plotValsOnMap!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>plotValsOnMap!(fig::Figure, means::AbstractArray, title::String;                     colors=nothing, color<em>range=nothing, high</em>clip=(1,0,0),                     low<em>clip=(0,0,1), pos=(x=1, y=1), pos</em>legend=nothing                     )</p><p>Plot contours of world with an overlayed heatmap of the input data.</p><p><strong>Arguments:</strong></p><ul><li><code>nb_ticks</code>: if nothing (default), just min lat/lon, max lat/lon and 0 are labeled.</li><li><code>pos::NamedTuple(x::Int,y::Int)</code>: position of plot in <code>fig</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-data.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotWeightContributions-Tuple{DimensionalData.DimArray, DimensionalData.DimArray}" href="#ModelWeights.Plots.plotWeightContributions-Tuple{DimensionalData.DimArray, DimensionalData.DimArray}"><code>ModelWeights.Plots.plotWeightContributions</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotWeightContributions(independence::DimArray, performance::DimArray)</code></pre><p>Plot performance against independence weights.</p><p><strong>Arguments:</strong></p><ul><li>independence: (dims:model) normalized independence weights</li><li>performance: (dims:model) normalized performance weights </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-weights.jl#L146-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.plotWeights-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Plots.plotWeights-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.plotWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plotWeights(weights::YAXArray; title::String=&quot;&quot;, sort_by::String=&quot;&quot;)</code></pre><p>Plot all weights sorted by weight dimension <code>sort_by</code> of <code>weights</code> if given, otherwise,  sorted by first value in weight dimension.</p><p>Equal weights line is added to plot too.</p><p><strong>Arguments:</strong></p><ul><li><code>weights</code>:</li><li><code>title</code>: </li><li><code>sort_by</code>: value of weight dimension according to which data is sorted</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-weights.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Plots.sortLongitudesWest2East-Tuple{AbstractArray}" href="#ModelWeights.Plots.sortLongitudesWest2East-Tuple{AbstractArray}"><code>ModelWeights.Plots.sortLongitudesWest2East</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sortLongitudesWest2East(data::AbstractArray)</code></pre><p>Arrange &#39;data&#39; such that western latitudes come first, then eastern latitudes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/plot-utils.jl#L71-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Timeseries.addFilteredTimeseries!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Number, Number}" href="#ModelWeights.Timeseries.addFilteredTimeseries!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Number, Number}"><code>ModelWeights.Timeseries.addFilteredTimeseries!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addFilteredTimeseries!(
    data::DataMap, 
    start_year::Number, 
    end_year::Number;
    ids_ts::Vector{String}=Vector{String}(),
    new_alias::String,
    only_models_non_missing_vals::Bool = true
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/Timeseries.jl#L114-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Timeseries.getUncertaintyRanges-Tuple{AbstractArray}" href="#ModelWeights.Timeseries.getUncertaintyRanges-Tuple{AbstractArray}"><code>ModelWeights.Timeseries.getUncertaintyRanges</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getUncertaintyRanges(
    data::AbstractArray; w::Union{DimArray, Nothing}=nothing, quantiles=[0.167, 0.833]
)</code></pre><p>Compute weighted <code>quantiles</code> of timeseries <code>data</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>data::AbstractArray</code>: must have dimensions &#39;time&#39;, &#39;model&#39;.</li><li><code>w::Union{DimArray, Nothing}=nothing</code>: must have dimensions &#39;model&#39; and &#39;weight&#39;, each </li></ul><p>&#39;weight&#39;-vector must sum up to 1.</p><ul><li><code>quantiles=[0.167, 0.833]</code>: vector with two entries between 0 and 1 representing  the </li></ul><p>lower and upper bound in this order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/Timeseries.jl#L172-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Timeseries.linearTrend-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Timeseries.linearTrend-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Timeseries.linearTrend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">linearTrend(data::YAXArray; full_predictions::Bool=true)</code></pre><p>Compute linear trend as ordinary least squares for timeseries data.</p><p>In the metadata of the returned array &#39;-TREND&#39; (if <code>full_predictions</code>=false) or  &#39;-TREND-pred&#39; (if <code>full_predictions</code>=true) is added to the original metadata  entry of <code>data</code> for &#39;statistic&#39; and the new metadata entry for &#39;id&#39; is adapted accordingly.</p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: must have dimension :time.</li><li><code>full_predictions::Bool</code>: if false, return only slope, otherwise return predicted value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/Timeseries.jl#L11-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.addLikelihoodWeights!-Tuple{ModelWeights.Data.ClimateData, Vector{&lt;:Number}, Vector{String}, Distributions.Distribution, String}" href="#ModelWeights.Weights.addLikelihoodWeights!-Tuple{ModelWeights.Data.ClimateData, Vector{&lt;:Number}, Vector{String}, Distributions.Distribution, String}"><code>ModelWeights.Weights.addLikelihoodWeights!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addLikelihoodWeights!(
    data::ClimateData, 
    values::Vector{&lt;:Number}, 
    models::Vector{String}, 
    distr::Distribution,
    id::String
)</code></pre><p>Compute the likelihood weights for <code>values</code> with respect to the distribution <code>distr</code> and  add computed weights to weights Array of <code>data</code> with name <code>id</code>.  If <code>id</code> is already present, nothing is added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L454-L467">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.applyWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Weights.applyWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.applyWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">applyWeights(model_data::YAXArray, weights::YAXArray)</code></pre><p>Compute the weighted average of model data <code>data</code> with given <code>weights</code>.</p><p>If weights were computed for a superset of the models in <code>data</code>, they are normalized and applied to the subset. Only weights per model (not members) are considered for now, in the future, members should be considered too.</p><p><strong>Arguments:</strong></p><ul><li><code>model_data::YAXArray</code>: model predictions. If given for model members, the predictions </li></ul><p>of each model are considered the average value of all members of the respective model.</p><ul><li><code>weights::YAXArray</code>: if given for each member of a model, these will be summed up to </li></ul><p>yield one value per model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L250-L265">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.climwipWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, ModelWeights.Weights.ConfigWeights}" href="#ModelWeights.Weights.climwipWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, ModelWeights.Weights.ConfigWeights}"><code>ModelWeights.Weights.climwipWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">climwipWeights(
    dists_indep_all::YAXArray, 
    dists_perform_all::YAXArray,
    config::ConfigWeights;
    suffix_name::Stirng = &quot;climwip&quot;
)</code></pre><p>Compute weight for each model in multi-model ensemble according to approach from Brunner, Lukas, Angeline G. Pendergrass, Flavio Lehner, Anna L. Merrifield, Ruth Lorenz, and Reto Knutti. “Reduced Global Warming from CMIP6 Projections When Weighting Models by Performance and Independence.” Earth System Dynamics 11, no. 4 (November 13, 2020): 995–1012. https://doi.org/10.5194/esd-11-995-2020. </p><p><strong>Arguments:</strong></p><ul><li><code>dists_indep_all::YAXArray</code>: RMSEs between pairs of models for all </li></ul><p>combinations of variables and diagnostics; has dimensions &#39;member1&#39;, &#39;member2&#39;, &#39;variable&#39;,  &#39;diagnostic&#39;.</p><ul><li><code>dists_perform_all::YAXArray</code>: RMSEs between model and observational data for all </li></ul><p>combinations of variables and diagnostics; has dimensions &#39;member&#39;, &#39;variable&#39;, &#39;diagnostic&#39;.</p><ul><li><code>config::ConfigWeights</code>: Parameters specifiying the relative contributions of each </li></ul><p>combination of variable and diagnostic.</p><ul><li><code>suffix_name::String</code>: added to name of each type of weights, s.t. names are: wP-suffix, </li></ul><p>wI-suffix, combined-suffix (default &#39;climwip&#39;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L302-L327">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.distributeWeightsAcrossMembers-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}" href="#ModelWeights.Weights.distributeWeightsAcrossMembers-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Weights.distributeWeightsAcrossMembers</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">distributeWeightsAcrossMembers(weights::YAXArray, members::Vector{String})</code></pre><p>Equally distribute weight for each model over its members.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L130-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.equalWeights-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Weights.equalWeights-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.equalWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">equalWeights(data::YAXArray; use_members::Bool=true)</code></pre><p>Create a weight vector, with equal weight for each MODEL. Distribute weight across model members if dimension=:member and use<em>members is true. If use</em>member is false,  each model member is considered as standalone model and all receive the same weight.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L102-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.independenceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}" href="#ModelWeights.Weights.independenceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}"><code>ModelWeights.Weights.independenceWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">independenceWeights(Sij::YAXArray, sigmaS::Number)</code></pre><p>Compute the independence weight for each model i with generalized distances between pairs of models, <code>Sij</code>.</p><p class="math-container">\[w^{I}_i = a_0 \cdot \frac{1}{1 + \sum_{j \ne i} e^{-\left( \frac{S_{ij}}{\sigma_S} \right)^2}}\]</p><p><strong>Arguments:</strong></p><ul><li><code>Sij</code>: generalized distances for each pair of models with dimensions &#39;model1&#39;, &#39;model2&#39;</li><li><code>sigmaS</code>: free shape parameter for impact of independence weights</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L396-L409">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.loadWeightsAsDimArray-Tuple{NCDatasets.NCDataset, String}" href="#ModelWeights.Weights.loadWeightsAsDimArray-Tuple{NCDatasets.NCDataset, String}"><code>ModelWeights.Weights.loadWeightsAsDimArray</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loadWeightsAsDimArray(data::NCDataset, key_weights::String)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>data</code>: NCDataset containing weights, which have a single dimension</li><li><code>key_weights</code>: name of weights to load; &#39;wP&#39; (performance weights), &#39;wI&#39;</li></ul><p>(independence weights), &#39;w&#39; (overall weights)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L230-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.performanceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}" href="#ModelWeights.Weights.performanceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}"><code>ModelWeights.Weights.performanceWeights</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">performanceWeights(Di::AbstractArray, sigmaD::Number)</code></pre><p>Compute the ClimWIP performance weight for each model i with generalized distances <code>Di</code>.</p><p class="math-container">\[w^{P}_i = a_0 \cdot \frac{e^{-(\frac{D_i}{\sigma_D})^2}}{N}\]</p><p><strong>Arguments:</strong></p><ul><li><code>Di::YAXArray</code>: generalized distances Di for each model</li><li><code>sigmaD::Number</code>: free shape parameter for impact of performance weights</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L366-L378">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.saveWeightsAsNCFile-Tuple{ModelWeights.Weights.ClimWIP, String}" href="#ModelWeights.Weights.saveWeightsAsNCFile-Tuple{ModelWeights.Weights.ClimWIP, String}"><code>ModelWeights.Weights.saveWeightsAsNCFile</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">saveWeightsAsNCFile(weights::ClimWIP; target_path::String)</code></pre><p>TODO: needs to be updated, deprecated</p><p><strong>Arguments:</strong></p><ul><li><code>weights</code>: ClimWIP object to be saved.</li><li><code>target_path</code>: Path to where weights shall be stored.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L146-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelWeights.Weights.weightedAvg-Tuple{YAXArrays.Cubes.YAXArray}" href="#ModelWeights.Weights.weightedAvg-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.weightedAvg</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">weightedAvg(
    data::YAXArray; 
    weights::Union{DimArray, Nothing}=nothing, 
    use_members_equal_weights::Bool=true
)</code></pre><p>Compute the average values for each (lon,lat) grid point in <code>data</code>, weighted by <code>weights</code>. </p><p>If no weight vector is provided, unweighted average is computed.</p><p><strong>Arguments:</strong></p><ul><li><code>data::YAXArray</code>: must have dimension &#39;model&#39; or &#39;member&#39;</li><li><code>weights::Union{YAXArray, Nothing}=nothing</code>: weights for models or individual members</li><li><code>use_members_equal_weights::Bool</code>:  if <code>weights</code> is nothing, all models receive </li></ul><p>equal weight. If <code>use_members_equal_weights</code> is true, the number of members  per model is taken into account, s.t. each model receives equal weight, which is distributed among the respective members.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awi-esc/ModelWeights.jl/blob/ba0458a144393222c7b445c3480de6fc922c2417/src/weights-utils.jl#L2-L22">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#ModelWeights.Data.addDiagnostic!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Function, String, String, Vararg{Any}}"><code>ModelWeights.Data.addDiagnostic!</code></a></li><li><a href="#ModelWeights.Data.addDiagnostic!-Tuple{ModelWeights.Data.ClimateData, Function, Vector{String}, String, Vararg{Any}}"><code>ModelWeights.Data.addDiagnostic!</code></a></li><li><a href="#ModelWeights.Data.alignPhysics-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}, Union{String, Symbol}}"><code>ModelWeights.Data.alignPhysics</code></a></li><li><a href="#ModelWeights.Data.anomalies-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.anomalies</code></a></li><li><a href="#ModelWeights.Data.approxAreaWeights-Tuple{Vector{&lt;:Number}}"><code>ModelWeights.Data.approxAreaWeights</code></a></li><li><a href="#ModelWeights.Data.areaWeightedRMSE-Tuple{AbstractArray, AbstractArray, AbstractArray}"><code>ModelWeights.Data.areaWeightedRMSE</code></a></li><li><a href="#ModelWeights.Data.checkConstraint-Tuple{Union{Nothing, Dict}}"><code>ModelWeights.Data.checkConstraint</code></a></li><li><a href="#ModelWeights.Data.combineAll-Tuple{Vararg{Vector{String}}}"><code>ModelWeights.Data.combineAll</code></a></li><li><a href="#ModelWeights.Data.combineModelsFromMultipleFiles-Union{Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}, Tuple{T}} where T"><code>ModelWeights.Data.combineModelsFromMultipleFiles</code></a></li><li><a href="#ModelWeights.Data.constrainMetaData!-Tuple{Vector{ModelWeights.Data.MetaData}, Dict}"><code>ModelWeights.Data.constrainMetaData!</code></a></li><li><a href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T"><code>ModelWeights.Data.defineDataMap</code></a></li><li><a href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, Vector{String}}} where T"><code>ModelWeights.Data.defineDataMap</code></a></li><li><a href="#ModelWeights.Data.defineDataMap-Union{Tuple{T}, Tuple{Vector{String}, String}} where T"><code>ModelWeights.Data.defineDataMap</code></a></li><li><a href="#ModelWeights.Data.distancesData-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.distancesData</code></a></li><li><a href="#ModelWeights.Data.distancesData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Dict{String, YAXArrays.Cubes.YAXArray}, Vector{String}}"><code>ModelWeights.Data.distancesData</code></a></li><li><a href="#ModelWeights.Data.distancesModels-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.distancesModels</code></a></li><li><a href="#ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{String}, Vector{String}, Union{String, Symbol}}"><code>ModelWeights.Data.filterPathsSharedModels</code></a></li><li><a href="#ModelWeights.Data.filterPathsSharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}"><code>ModelWeights.Data.filterPathsSharedModels</code></a></li><li><a href="#ModelWeights.Data.generalizedDistances-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.generalizedDistances</code></a></li><li><a href="#ModelWeights.Data.getAtModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String}"><code>ModelWeights.Data.getAtModel</code></a></li><li><a href="#ModelWeights.Data.getByIdxModel-Tuple{YAXArrays.Cubes.YAXArray, Symbol, Vector}"><code>ModelWeights.Data.getByIdxModel</code></a></li><li><a href="#ModelWeights.Data.getCMIPModelsKey-Tuple{Dict}"><code>ModelWeights.Data.getCMIPModelsKey</code></a></li><li><a href="#ModelWeights.Data.globalMeans-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.globalMeans</code></a></li><li><a href="#ModelWeights.Data.individuatePath-Tuple{String}"><code>ModelWeights.Data.individuatePath</code></a></li><li><a href="#ModelWeights.Data.interpolatedWeightedQuantiles-Tuple{Vector{&lt;:Number}, Vector}"><code>ModelWeights.Data.interpolatedWeightedQuantiles</code></a></li><li><a href="#ModelWeights.Data.joinDicts-Tuple{Vararg{Dict}}"><code>ModelWeights.Data.joinDicts</code></a></li><li><a href="#ModelWeights.Data.kelvinToCelsius-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.kelvinToCelsius</code></a></li><li><a href="#ModelWeights.Data.kelvinToCelsius!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.kelvinToCelsius!</code></a></li><li><a href="#ModelWeights.Data.loadDataFromESMValToolRecipes-Tuple{String, String}"><code>ModelWeights.Data.loadDataFromESMValToolRecipes</code></a></li><li><a href="#ModelWeights.Data.loadDataFromYAML-Tuple{Dict}"><code>ModelWeights.Data.loadDataFromYAML</code></a></li><li><a href="#ModelWeights.Data.loadDataMapCore-Union{Tuple{T}, Tuple{Vector{Vector{String}}, Vector{String}}} where T"><code>ModelWeights.Data.loadDataMapCore</code></a></li><li><a href="#ModelWeights.Data.loadModelsFromCSV-Tuple{String, String}"><code>ModelWeights.Data.loadModelsFromCSV</code></a></li><li><a href="#ModelWeights.Data.loadPreprocData-Union{Tuple{T}, Tuple{Vector{String}, Union{String, Symbol}}} where T"><code>ModelWeights.Data.loadPreprocData</code></a></li><li><a href="#ModelWeights.Data.memberIDFromFilenameMeta-Tuple{ModelWeights.Data.FilenameMeta, String}"><code>ModelWeights.Data.memberIDFromFilenameMeta</code></a></li><li><a href="#ModelWeights.Data.memberIDsFromPaths-Tuple{Vector{String}}"><code>ModelWeights.Data.memberIDsFromPaths</code></a></li><li><a href="#ModelWeights.Data.mergeMetaDataFromMultipleFiles-Tuple{Vector{&lt;:YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.mergeMetaDataFromMultipleFiles</code></a></li><li><a href="#ModelWeights.Data.metaDataChecksCMIP-Tuple{CommonDataModel.Attributes, String}"><code>ModelWeights.Data.metaDataChecksCMIP</code></a></li><li><a href="#ModelWeights.Data.metaDataFromESMValToolRecipes-Tuple{String}"><code>ModelWeights.Data.metaDataFromESMValToolRecipes</code></a></li><li><a href="#ModelWeights.Data.metaDataFromYAML-Tuple{Dict}"><code>ModelWeights.Data.metaDataFromYAML</code></a></li><li><a href="#ModelWeights.Data.modelDim-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.modelDim</code></a></li><li><a href="#ModelWeights.Data.normalize-Tuple{Dict{String, &lt;:Number}}"><code>ModelWeights.Data.normalize</code></a></li><li><a href="#ModelWeights.Data.normalizeToYAX-Tuple{Dict{String, &lt;:Number}}"><code>ModelWeights.Data.normalizeToYAX</code></a></li><li><a href="#ModelWeights.Data.putAtModel!-Tuple{YAXArrays.Cubes.YAXArray, Symbol, String, Any}"><code>ModelWeights.Data.putAtModel!</code></a></li><li><a href="#ModelWeights.Data.readDataFromDisk-Tuple{String}"><code>ModelWeights.Data.readDataFromDisk</code></a></li><li><a href="#ModelWeights.Data.resolvePathsFromMetaData-Tuple{ModelWeights.Data.MetaData, String, Bool}"><code>ModelWeights.Data.resolvePathsFromMetaData</code></a></li><li><a href="#ModelWeights.Data.setLookupsFromMemberToModel-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Data.setLookupsFromMemberToModel</code></a></li><li><a href="#ModelWeights.Data.sharedLevelMembers-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.sharedLevelMembers</code></a></li><li><a href="#ModelWeights.Data.sharedLevelModels-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.sharedLevelModels</code></a></li><li><a href="#ModelWeights.Data.sharedModels-Tuple{Vector{Vector{String}}, ModelWeights.Data.Level, Union{String, Symbol}}"><code>ModelWeights.Data.sharedModels</code></a></li><li><a href="#ModelWeights.Data.subsetModelData-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Data.subsetModelData</code></a></li><li><a href="#ModelWeights.Data.subsetModelData-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.subsetModelData</code></a></li><li><a href="#ModelWeights.Data.summarizeMembers-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.summarizeMembers</code></a></li><li><a href="#ModelWeights.Data.summarizeMembers!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}}"><code>ModelWeights.Data.summarizeMembers!</code></a></li><li><a href="#ModelWeights.Data.summarizeMembersMatrix-Tuple{YAXArrays.Cubes.YAXArray, Bool}"><code>ModelWeights.Data.summarizeMembersMatrix</code></a></li><li><a href="#ModelWeights.Data.summarizeMembersVector-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Data.summarizeMembersVector</code></a></li><li><a href="#ModelWeights.Data.summarizeMeta-Tuple{Dict, Vector{&lt;:Int64}}"><code>ModelWeights.Data.summarizeMeta</code></a></li><li><a href="#ModelWeights.Data.summarizeMeta!-Tuple{Dict, Vector{&lt;:Int64}}"><code>ModelWeights.Data.summarizeMeta!</code></a></li><li><a href="#ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Vector{Symbol}}"><code>ModelWeights.Data.throwErrorIfDimMissing</code></a></li><li><a href="#ModelWeights.Data.throwErrorIfDimMissing-Tuple{YAXArrays.Cubes.YAXArray, Symbol}"><code>ModelWeights.Data.throwErrorIfDimMissing</code></a></li><li><a href="#ModelWeights.Data.uncertaintyRanges-Tuple{AbstractArray}"><code>ModelWeights.Data.uncertaintyRanges</code></a></li><li><a href="#ModelWeights.Data.updateGroupedDataMetadata-Tuple{Dict, DimensionalData.DimGroupByArray}"><code>ModelWeights.Data.updateGroupedDataMetadata</code></a></li><li><a href="#ModelWeights.Data.writeDataToDisk-Tuple{Any, String}"><code>ModelWeights.Data.writeDataToDisk</code></a></li><li><a href="#ModelWeights.Plots.convertKgsToSv!-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.convertKgsToSv!</code></a></li><li><a href="#ModelWeights.Plots.getClosestGridPoint-Tuple{Dict, Vector, Vector}"><code>ModelWeights.Plots.getClosestGridPoint</code></a></li><li><a href="#ModelWeights.Plots.latitude2NorthSouth-Tuple{Number}"><code>ModelWeights.Plots.latitude2NorthSouth</code></a></li><li><a href="#ModelWeights.Plots.lon180to360-Tuple{Number}"><code>ModelWeights.Plots.lon180to360</code></a></li><li><a href="#ModelWeights.Plots.lon360to180-Tuple{Number}"><code>ModelWeights.Plots.lon360to180</code></a></li><li><a href="#ModelWeights.Plots.longitude2EastWest-Tuple{Number}"><code>ModelWeights.Plots.longitude2EastWest</code></a></li><li><a href="#ModelWeights.Plots.makeSubplots-Tuple{AbstractArray, @NamedTuple{nrows::Int64, ncols::Int64}}"><code>ModelWeights.Plots.makeSubplots</code></a></li><li><a href="#ModelWeights.Plots.plotAMOC-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.plotAMOC</code></a></li><li><a href="#ModelWeights.Plots.plotDistances-Tuple{AbstractArray, String}"><code>ModelWeights.Plots.plotDistances</code></a></li><li><a href="#ModelWeights.Plots.plotDistancesIndependence-Tuple{AbstractArray, String}"><code>ModelWeights.Plots.plotDistancesIndependence</code></a></li><li><a href="#ModelWeights.Plots.plotEnsembleSpread-Tuple{YAXArrays.Cubes.YAXArray, Number, Number}"><code>ModelWeights.Plots.plotEnsembleSpread</code></a></li><li><a href="#ModelWeights.Plots.plotHistAtPos-Tuple{YAXArrays.Cubes.YAXArray, Dict}"><code>ModelWeights.Plots.plotHistAtPos</code></a></li><li><a href="#ModelWeights.Plots.plotTempGraph-Tuple{YAXArrays.Cubes.YAXArray, NamedTuple, NamedTuple, String}"><code>ModelWeights.Plots.plotTempGraph</code></a></li><li><a href="#ModelWeights.Plots.plotTimeseries!-Tuple{Makie.Axis, AbstractArray}"><code>ModelWeights.Plots.plotTimeseries!</code></a></li><li><a href="#ModelWeights.Plots.plotValsOnMap!-Tuple{Makie.Figure, AbstractArray, String}"><code>ModelWeights.Plots.plotValsOnMap!</code></a></li><li><a href="#ModelWeights.Plots.plotWeightContributions-Tuple{DimensionalData.DimArray, DimensionalData.DimArray}"><code>ModelWeights.Plots.plotWeightContributions</code></a></li><li><a href="#ModelWeights.Plots.plotWeights-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Plots.plotWeights</code></a></li><li><a href="#ModelWeights.Plots.sortLongitudesWest2East-Tuple{AbstractArray}"><code>ModelWeights.Plots.sortLongitudesWest2East</code></a></li><li><a href="#ModelWeights.Timeseries.addFilteredTimeseries!-Tuple{Dict{String, YAXArrays.Cubes.YAXArray}, Number, Number}"><code>ModelWeights.Timeseries.addFilteredTimeseries!</code></a></li><li><a href="#ModelWeights.Timeseries.getUncertaintyRanges-Tuple{AbstractArray}"><code>ModelWeights.Timeseries.getUncertaintyRanges</code></a></li><li><a href="#ModelWeights.Timeseries.linearTrend-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Timeseries.linearTrend</code></a></li><li><a href="#ModelWeights.Weights.addLikelihoodWeights!-Tuple{ModelWeights.Data.ClimateData, Vector{&lt;:Number}, Vector{String}, Distributions.Distribution, String}"><code>ModelWeights.Weights.addLikelihoodWeights!</code></a></li><li><a href="#ModelWeights.Weights.applyWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.applyWeights</code></a></li><li><a href="#ModelWeights.Weights.climwipWeights-Tuple{YAXArrays.Cubes.YAXArray, YAXArrays.Cubes.YAXArray, ModelWeights.Weights.ConfigWeights}"><code>ModelWeights.Weights.climwipWeights</code></a></li><li><a href="#ModelWeights.Weights.distributeWeightsAcrossMembers-Tuple{YAXArrays.Cubes.YAXArray, Vector{String}}"><code>ModelWeights.Weights.distributeWeightsAcrossMembers</code></a></li><li><a href="#ModelWeights.Weights.equalWeights-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.equalWeights</code></a></li><li><a href="#ModelWeights.Weights.independenceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}"><code>ModelWeights.Weights.independenceWeights</code></a></li><li><a href="#ModelWeights.Weights.loadWeightsAsDimArray-Tuple{NCDatasets.NCDataset, String}"><code>ModelWeights.Weights.loadWeightsAsDimArray</code></a></li><li><a href="#ModelWeights.Weights.performanceWeights-Tuple{YAXArrays.Cubes.YAXArray, Number}"><code>ModelWeights.Weights.performanceWeights</code></a></li><li><a href="#ModelWeights.Weights.saveWeightsAsNCFile-Tuple{ModelWeights.Weights.ClimWIP, String}"><code>ModelWeights.Weights.saveWeightsAsNCFile</code></a></li><li><a href="#ModelWeights.Weights.weightedAvg-Tuple{YAXArrays.Cubes.YAXArray}"><code>ModelWeights.Weights.weightedAvg</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="requirements/">Requirements »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 11 July 2025 18:53">Friday 11 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
